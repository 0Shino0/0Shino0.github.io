<!DOCTYPE HTML><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="React高级, 0Shino0"><meta name="description" content="react-router以及router-redux的一些基本操作，用于复习"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><meta name="renderer" content="webkit|ie-stand|ie-comp"><meta name="mobile-web-app-capable" content="yes"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="referrer" content="no-referrer-when-downgrade"><style>body{background-image:url(https://cdn.jsdelivr.net/gh/Tokisaki-Galaxy/res/site/medias/background.jpg);background-repeat:no-repeat;background-size:100% 100%;background-attachment:fixed}</style><title>React高级 | 0Shino0</title><link rel="icon" type="image/png" href="/favicon.png"><link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css"><link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css"><link rel="stylesheet" type="text/css" href="/libs/aos/aos.css"><link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css"><link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css"><link rel="stylesheet" type="text/css" href="/css/matery.css"><link rel="stylesheet" type="text/css" href="/css/my.css"><script src="/libs/jquery/jquery-3.6.0.min.js"></script><meta name="generator" content="Hexo 5.4.2"><link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head><body><header class="navbar-fixed"><nav id="headNav" class="bg-color nav-transparent"><div id="navContainer" class="nav-wrapper container"><div class="brand-logo"><a href="/" class="waves-effect waves-light"><div><img src="/medias/loading.gif" data-original="/medias/avatar.png" class="logo-img" alt="LOGO"> <span class="logo-span">0Shino0</span></div></a></div><a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a><ul class="right nav-menu"><li class="hide-on-med-and-down nav-item"><a href="/" class="waves-effect waves-light"><i class="fas fa-home" style="zoom:.6"></i> <span>首页</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fas fa-tags" style="zoom:.6"></i> <span>标签</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fas fa-bookmark" style="zoom:.6"></i> <span>分类</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fas fa-archive" style="zoom:.6"></i> <span>归档</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/about" class="waves-effect waves-light"><i class="fas fa-user-circle" style="zoom:.6"></i> <span>关于</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fas fa-comments" style="zoom:.6"></i> <span>留言板</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fas fa-address-book" style="zoom:.6"></i> <span>友情链接</span></a></li><li class="hide-on-med-and-down nav-item"><a href="/bangumis" class="waves-effect waves-light"><i class="fa-brands fa-bilibili" style="zoom:.6"></i> <span>追番列表</span></a></li><li><a href="#searchModal" class="modal-trigger waves-effect waves-light"><i id="searchIcon" class="fas fa-search" title="搜索" style="zoom:.85"></i></a></li></ul><div id="mobile-nav" class="side-nav sidenav"><div class="mobile-head bg-color"><img src="/medias/loading.gif" data-original="/medias/avatar.png" class="logo-img circle responsive-img"><div class="logo-name">0Shino0</div><div class="logo-desc">向着远方不断前进</div></div><ul class="menu-list mobile-menu-list"><li class="m-nav-item"><a href="/" class="waves-effect waves-light"><i class="fa-fw fas fa-home"></i> 首页</a></li><li class="m-nav-item"><a href="/tags" class="waves-effect waves-light"><i class="fa-fw fas fa-tags"></i> 标签</a></li><li class="m-nav-item"><a href="/categories" class="waves-effect waves-light"><i class="fa-fw fas fa-bookmark"></i> 分类</a></li><li class="m-nav-item"><a href="/archives" class="waves-effect waves-light"><i class="fa-fw fas fa-archive"></i> 归档</a></li><li class="m-nav-item"><a href="/about" class="waves-effect waves-light"><i class="fa-fw fas fa-user-circle"></i> 关于</a></li><li class="m-nav-item"><a href="/contact" class="waves-effect waves-light"><i class="fa-fw fas fa-comments"></i> 留言板</a></li><li class="m-nav-item"><a href="/friends" class="waves-effect waves-light"><i class="fa-fw fas fa-address-book"></i> 友情链接</a></li><li class="m-nav-item"><a href="/bangumis" class="waves-effect waves-light"><i class="fa-fw fa-brands fa-bilibili"></i> 追番列表</a></li><li><div class="divider"></div></li><li><a href="https://github.com/0Shino0/0Shino0.github.io" class="waves-effect waves-light" target="_blank"><i class="fab fa-github-square fa-fw"></i>Fork Me</a></li></ul></div></div><style>.nav-transparent .github-corner{display:none!important}.github-corner{position:absolute;z-index:10;top:0;right:0;border:0;transform:scale(1.1)}.github-corner svg{color:#0f9d58;fill:#fff;height:64px;width:64px}.github-corner:hover .octo-arm{animation:a .56s ease-in-out}.github-corner .octo-arm{animation:none}@keyframes a{0%,to{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}</style><a href="https://github.com/0Shino0/0Shino0.github.io" class="github-corner tooltipped hide-on-med-and-down" target="_blank" data-tooltip="Fork Me" data-position="left" data-delay="50"><svg viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin:130px 106px" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a></nav></header><div class="bg-cover pd-header post-cover" style="background-image:url(/medias/featureimages/25.jpg)"><div class="container" style="right:0;left:0"><div class="row"><div class="col s12 m12 l12"><div class="brand"><h1 class="description center-align post-title">React高级</h1></div></div></div></div></div><main class="post-container content"><link rel="stylesheet" href="/libs/tocbot/tocbot.css"><style>#articleContent h1::before,#articleContent h2::before,#articleContent h3::before,#articleContent h4::before,#articleContent h5::before,#articleContent h6::before{display:block;content:" ";height:100px;margin-top:-100px;visibility:hidden}#articleContent :focus{outline:0}.toc-fixed{position:fixed;top:64px}.toc-widget{width:345px;padding-left:20px}.toc-widget .toc-title{padding:35px 0 15px 17px;font-size:1.5rem;font-weight:700;line-height:1.5rem}.toc-widget ol{padding:0;list-style:none}#toc-content{padding-bottom:30px;overflow:auto}#toc-content ol{padding-left:10px}#toc-content ol li{padding-left:10px}#toc-content .toc-link:hover{color:#42b983;font-weight:700;text-decoration:underline}#toc-content .toc-link::before{background-color:transparent;max-height:25px;position:absolute;right:23.5vw;display:block}#toc-content .is-active-link{color:#42b983}#floating-toc-btn{position:fixed;right:15px;bottom:76px;padding-top:15px;margin-bottom:0;z-index:998}#floating-toc-btn .btn-floating{width:48px;height:48px}#floating-toc-btn .btn-floating i{line-height:48px;font-size:1.4rem}</style><div class="row"><div id="main-content" class="col s12 m12 l9"><div id="artDetail"><div class="card"><div class="card-content article-info"><div class="row tag-cate"><div class="col s7"><div class="article-tag"><a href="/tags/jsx/"><span class="chip bg-color">jsx</span></a></div></div><div class="col s5 right-align"></div></div><div class="post-info"><div class="post-date info-break-policy"><i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp; 2022-05-16</div><div class="post-date info-break-policy"><i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp; 2022-05-17</div><div class="info-break-policy"><i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp; 3k</div><div class="info-break-policy"><i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp; 12 分</div><div id="busuanzi_container_page_pv" class="info-break-policy"><i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp; <span id="busuanzi_value_page_pv"></span></div></div></div><hr class="clearfix"><div class="card-content article-card-content"><div id="articleContent"><h3 id="react-router"><a href="#react-router" class="headerlink" title="react-router"></a>react-router</h3><h4 id="三、路由的基本使用"><a href="#三、路由的基本使用" class="headerlink" title="三、路由的基本使用"></a>三、路由的基本使用</h4><pre class="language-jsx"><code class="language-jsx">    <span class="token number">1</span><span class="token punctuation">.</span>明确好界面中的导航区、展示区
    <span class="token number">2</span><span class="token punctuation">.</span>导航区的a标签改为Link标签
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Link</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/xxxxx<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Demo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">></span></span>
    <span class="token number">3</span><span class="token punctuation">.</span>展示区写Route标签进行路径的匹配
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">'</span>/xxxx<span class="token punctuation">'</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>Demo<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
    <span class="token number">4</span><span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>App</span><span class="token punctuation">></span></span>的最外侧包裹了一个<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BrowserRouter</span><span class="token punctuation">></span></span>或<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>HashRouter</span><span class="token punctuation">></span></span>
</code></pre><h4 id="四、路由与一般组件"><a href="#四、路由与一般组件" class="headerlink" title="四、路由与一般组件"></a>四、路由与一般组件</h4><pre class="language-jsx"><code class="language-jsx">    <span class="token number">1</span><span class="token punctuation">.</span>写法不同：
                一般组件：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Demo</span><span class="token punctuation">/></span></span>
                路由组件：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/demo<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>Demo<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
    <span class="token number">2</span><span class="token punctuation">.</span>存放位置不同：
                一般组件：components
                路由组件：pages
    <span class="token number">3</span><span class="token punctuation">.</span>接收到的props不同：
                一般组件：写组件标签时传递了什么，就能收到什么
                路由组件：接收到三个固定的属性
                    history<span class="token punctuation">:</span>
                        go<span class="token punctuation">:</span> ƒ <span class="token function">go</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
                        goBack<span class="token punctuation">:</span> ƒ <span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        goForward<span class="token punctuation">:</span> ƒ <span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        push<span class="token punctuation">:</span> ƒ <span class="token function">push</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> state<span class="token punctuation">)</span>
                        replace<span class="token punctuation">:</span> ƒ <span class="token function">replace</span><span class="token punctuation">(</span>pastate<span class="token punctuation">)</span>
                    location<span class="token punctuation">:</span>
                        pathname<span class="token punctuation">:</span> <span class="token string">"/about"</span>
                        search<span class="token punctuation">:</span> <span class="token string">""</span>
                        state<span class="token punctuation">:</span> undefined
                    match<span class="token punctuation">:</span>
                        params<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
                        path<span class="token punctuation">:</span> <span class="token string">"/about"</span>
                        url<span class="token punctuation">:</span> <span class="token string">"/about"</span>
</code></pre><h4 id="五、NavLink与封装NavLink"><a href="#五、NavLink与封装NavLink" class="headerlink" title="五、NavLink与封装NavLink"></a>五、NavLink与封装NavLink</h4><pre class="language-jsx"><code class="language-jsx">                <span class="token number">1</span><span class="token punctuation">.</span>NavLink可以实现路由链接的高亮，通过activeClassName指定样式名
</code></pre><h4 id="六、Switch的使用"><a href="#六、Switch的使用" class="headerlink" title="六、Switch的使用"></a>六、Switch的使用</h4><pre class="language-jsx"><code class="language-jsx">                <span class="token number">1</span><span class="token punctuation">.</span>通常情况下，path和component是一一对应的关系。
                <span class="token number">2</span><span class="token punctuation">.</span><span class="token function">Switch可以提高路由匹配效率</span><span class="token punctuation">(</span>单一匹配<span class="token punctuation">)</span>。
</code></pre><h4 id="七、解决多级路-径刷新页面样式丢失的问题"><a href="#七、解决多级路-径刷新页面样式丢失的问题" class="headerlink" title="七、解决多级路 径刷新页面样式丢失的问题"></a>七、解决多级路 径刷新页面样式丢失的问题</h4><pre class="language-jsx"><code class="language-jsx">                <span class="token number">1</span><span class="token punctuation">.</span><span class="token keyword">public</span><span class="token operator">/</span>index<span class="token punctuation">.</span>html 中 引入样式时不写 <span class="token punctuation">.</span><span class="token operator">/</span> 写 <span class="token operator">/</span> （常用）
                <span class="token number">2</span><span class="token punctuation">.</span><span class="token keyword">public</span><span class="token operator">/</span>index<span class="token punctuation">.</span>html 中 引入样式时不写 <span class="token punctuation">.</span><span class="token operator">/</span> 写 <span class="token operator">%</span>PUBLIC_URL<span class="token operator">%</span> （常用）
                <span class="token number">3</span><span class="token punctuation">.</span>使用HashRouter
</code></pre><h4 id="八、路由的严格匹配与模糊匹配"><a href="#八、路由的严格匹配与模糊匹配" class="headerlink" title="八、路由的严格匹配与模糊匹配"></a>八、路由的严格匹配与模糊匹配</h4><pre class="language-jsx"><code class="language-jsx">                <span class="token number">1</span><span class="token punctuation">.</span>默认使用的是模糊匹配（简单记：【输入的路径】必须包含要【匹配的路径】，且顺序要一致）
                <span class="token number">2</span><span class="token punctuation">.</span>开启严格匹配：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">exact</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span><span class="token boolean">true</span><span class="token punctuation">}</span></span><span class="token attr-name">;</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/about<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>About<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
                <span class="token number">3</span><span class="token punctuation">.</span>严格匹配不要随便开启，需要再开，有些时候开启会导致无法继续匹配二级路由
</code></pre><h4 id="九、Redirect的使用"><a href="#九、Redirect的使用" class="headerlink" title="九、Redirect的使用"></a>九、Redirect的使用</h4><pre class="language-jsx"><code class="language-jsx">                <span class="token number">1</span><span class="token punctuation">.</span>一般写在所有路由注册的最下方，当所有路由都无法匹配时，跳转到Redirect指定的路由
                <span class="token number">2</span><span class="token punctuation">.</span>具体编码：
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/about<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>About<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/home<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>Home<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
                            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/about<span class="token punctuation">"</span>/</span><span class="token punctuation">></span></span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">></span></span>
</code></pre><h4 id="十、嵌套路由"><a href="#十、嵌套路由" class="headerlink" title="十、嵌套路由"></a>十、嵌套路由</h4><pre class="language-jsx"><code class="language-jsx">                <span class="token number">1</span><span class="token punctuation">.</span>注册子路由时要写上父路由的path值
                <span class="token number">2</span><span class="token punctuation">.</span>路由的匹配是按照注册路由的顺序进行的
</code></pre><h4 id="十一、向路由组件传递参数"><a href="#十一、向路由组件传递参数" class="headerlink" title="十一、向路由组件传递参数"></a>十一、向路由组件传递参数</h4><pre class="language-jsx"><code class="language-jsx">                <span class="token number">1</span><span class="token punctuation">.</span>params参数
                            <span class="token function">路由链接</span><span class="token punctuation">(</span>携带参数<span class="token punctuation">)</span>：<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/demo/test/tom/18'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">></span>详情<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">></span></span>
                            <span class="token function">注册路由</span><span class="token punctuation">(</span>声明接收<span class="token punctuation">)</span>：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/demo/test/:name/:age<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>Test<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
                            接收参数：<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params
                <span class="token number">2</span><span class="token punctuation">.</span>search参数
                            <span class="token function">路由链接</span><span class="token punctuation">(</span>携带参数<span class="token punctuation">)</span>：<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/demo/test?name=tom&amp;age=18'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">></span>详情<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">></span></span>
                            <span class="token function">注册路由</span><span class="token punctuation">(</span>无需声明，正常注册即可<span class="token punctuation">)</span>：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/demo/test<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>Test<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
                            接收参数：<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>search
                            备注：获取到的search是urlencoded编码字符串，需要借助querystring解析
                <span class="token number">3</span><span class="token punctuation">.</span>state参数
                            <span class="token function">路由链接</span><span class="token punctuation">(</span>携带参数<span class="token punctuation">)</span>：<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span><span class="token punctuation">{</span><span class="token punctuation">;</span>pathname<span class="token punctuation">:</span><span class="token string">'/demo/test'</span><span class="token punctuation">,</span>state<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">;</span>name<span class="token punctuation">:</span><span class="token string">'tom'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">></span>详情<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Link</span><span class="token punctuation">></span></span>
                            <span class="token function">注册路由</span><span class="token punctuation">(</span>无需声明，正常注册即可<span class="token punctuation">)</span>：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/demo/test<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>Test<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
                            接收参数：<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>location<span class="token punctuation">.</span>state
                            备注：刷新也可以保留住参数
</code></pre><h4 id="十二、编程式路由导航"><a href="#十二、编程式路由导航" class="headerlink" title="十二、编程式路由导航"></a>十二、编程式路由导航</h4><pre class="language-jsx"><code class="language-jsx">    借助<span class="token keyword">this</span><span class="token punctuation">.</span>prosp<span class="token punctuation">.</span>history对象上的API对操作路由跳转、前进、后退
            <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>prosp<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>prosp<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>prosp<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>prosp<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">goForward</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token keyword">this</span><span class="token punctuation">.</span>prosp<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><h4 id="十三、BrowserRouter与HashRouter的区别"><a href="#十三、BrowserRouter与HashRouter的区别" class="headerlink" title="十三、BrowserRouter与HashRouter的区别"></a>十三、BrowserRouter与HashRouter的区别</h4><pre class="language-jsx"><code class="language-jsx">        <span class="token number">1</span><span class="token punctuation">.</span>底层原理不一样：
                    BrowserRouter使用的是H5的history API，不兼容IE9及以下版本。
                    HashRouter使用的是URL的哈希值。
        <span class="token number">2</span><span class="token punctuation">.</span>path表现形式不一样
                    BrowserRouter的路径中没有#<span class="token punctuation">,</span>例如：localhost<span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>demo<span class="token operator">/</span>test
                    HashRouter的路径包含#<span class="token punctuation">,</span>例如：localhost<span class="token punctuation">:</span><span class="token number">3000</span><span class="token operator">/</span>#<span class="token operator">/</span>demo<span class="token operator">/</span>test
        <span class="token number">3</span><span class="token punctuation">.</span>刷新后对路由state参数的影响
                    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>BrowserRouter没有任何影响，因为state保存在history对象中。
                    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>HashRouter刷新后会导致路由state参数的丢失！！！
        <span class="token number">4</span><span class="token punctuation">.</span>备注：HashRouter可以用于解决一些路径错误相关的问题。
</code></pre><h4 id="十四、antd的按需引入-自定主题"><a href="#十四、antd的按需引入-自定主题" class="headerlink" title="十四、antd的按需引入+自定主题"></a>十四、antd的按需引入+自定主题</h4><pre class="language-jsx"><code class="language-jsx">    <span class="token number">1</span><span class="token punctuation">.</span>安装依赖：yarn add react<span class="token operator">-</span>app<span class="token operator">-</span>rewired customize<span class="token operator">-</span>cra babel<span class="token operator">-</span>plugin<span class="token operator">-</span><span class="token keyword">import</span> less less<span class="token operator">-</span>loader
    <span class="token number">2</span><span class="token punctuation">.</span>修改<span class="token keyword">package</span><span class="token punctuation">.</span>json
            <span class="token operator">...</span><span class="token punctuation">.</span>
                <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">;</span>
                    <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"react-app-rewired start"</span><span class="token punctuation">,</span>
                    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"react-app-rewired build"</span><span class="token punctuation">,</span>
                    <span class="token string">"test"</span><span class="token punctuation">:</span> <span class="token string">"react-app-rewired test"</span><span class="token punctuation">,</span>
                    <span class="token string">"eject"</span><span class="token punctuation">:</span> <span class="token string">"react-scripts eject"</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
            <span class="token operator">...</span><span class="token punctuation">.</span>
    <span class="token number">3</span><span class="token punctuation">.</span>根目录下创建config<span class="token operator">-</span>overrides<span class="token punctuation">.</span>js
            <span class="token comment" spellcheck="true">//配置具体的修改规则</span>
            <span class="token keyword">const</span> <span class="token punctuation">{</span><span class="token punctuation">;</span> override<span class="token punctuation">,</span> fixBabelImports<span class="token punctuation">,</span>addLessLoader<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'customize-cra'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">override</span><span class="token punctuation">(</span>
                <span class="token function">fixBabelImports</span><span class="token punctuation">(</span><span class="token string">'import'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">;</span>
                    libraryName<span class="token punctuation">:</span> <span class="token string">'antd'</span><span class="token punctuation">,</span>
                    libraryDirectory<span class="token punctuation">:</span> <span class="token string">'es'</span><span class="token punctuation">,</span>
                    style<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">addLessLoader</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">;</span>
                    lessOptions<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">;</span>
                        javascriptEnabled<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                        modifyVars<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">;</span> <span class="token string">'@primary-color'</span><span class="token punctuation">:</span> <span class="token string">'green'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token number">4</span><span class="token punctuation">.</span>备注：不用在组件里亲自引入样式了，即：<span class="token keyword">import</span> <span class="token string">'antd/dist/antd.css'</span>应该删掉
</code></pre><h3 id="react-redux"><a href="#react-redux" class="headerlink" title="react-redux"></a>react-redux</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>1.redux是一个独立专门用于做状态管理的JS库(不react插件库)<br>2.它可以用在react、angular、vue等项目中，但本与react配合使用<br>3.作用：集中式管理react应用中多个组件共享的态</p><h4 id="什么时候需要使用"><a href="#什么时候需要使用" class="headerlink" title="什么时候需要使用"></a>什么时候需要使用</h4><p>1.某个组件的状态，需要让其他组件可以随时拿到（共享）。<br>2.一个组件需要改变另一个组件的状态（通信）。<br>3.总体原则：能不用就不用, 如果不用比较吃力才考虑使用。</p><h4 id="原理图"><a href="#原理图" class="headerlink" title="原理图"></a>原理图</h4><p><img src="/medias/loading.gif" data-original="/2022/05/16/react3/redux.png" alt="redux"></p><h4 id="redux的三个核心概念"><a href="#redux的三个核心概念" class="headerlink" title="redux的三个核心概念"></a>redux的三个核心概念</h4><h5 id="action"><a href="#action" class="headerlink" title="action"></a>action</h5><p>1.动作的对象<br>2.包含2个属性</p><pre class="language-jsx"><code class="language-jsx">    type：标识属性<span class="token punctuation">,</span> 值为字符串<span class="token punctuation">,</span> 唯一<span class="token punctuation">,</span> 必要属性
    data：数据属性<span class="token punctuation">,</span> 值类型任意<span class="token punctuation">,</span> 可选属性
</code></pre><p>3.例子：</p><pre class="language-jsx"><code class="language-jsx">    <span class="token punctuation">{</span><span class="token punctuation">;</span> type<span class="token punctuation">:</span> <span class="token string">'ADD_STUDENT'</span><span class="token punctuation">,</span>data<span class="token punctuation">:</span><span class="token punctuation">{</span><span class="token punctuation">;</span>name<span class="token punctuation">:</span> <span class="token string">'tom'</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">18</span><span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h5 id="reducer"><a href="#reducer" class="headerlink" title="reducer"></a>reducer</h5><p>1.用于初始化状态、加工状态。<br>2.加工时，根据旧的state和action， 产生新的state的纯函数。</p><h5 id="store"><a href="#store" class="headerlink" title="store"></a>store</h5><p>1.将state、action、reducer联系在一起的对象<br>2.如何得到此对象?</p><pre class="language-jsx"><code class="language-jsx">    <span class="token number">1</span><span class="token punctuation">)</span><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token punctuation">;</span>createStore<span class="token punctuation">}</span><span class="token punctuation">;</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
    <span class="token number">2</span><span class="token punctuation">)</span><span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">'./reducers'</span>
    <span class="token number">3</span><span class="token punctuation">)</span><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span>
</code></pre><p>3.此对象的功能?</p><pre class="language-jsx"><code class="language-jsx">    <span class="token number">1</span><span class="token punctuation">)</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> 得到state
    <span class="token number">2</span><span class="token punctuation">)</span><span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">:</span> 分发action<span class="token punctuation">,</span> 触发reducer调用<span class="token punctuation">,</span> 产生新的state
    <span class="token number">3</span><span class="token punctuation">)</span><span class="token function">subscribe</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span><span class="token punctuation">:</span> 注册监听<span class="token punctuation">,</span> 当产生了新的state时<span class="token punctuation">,</span> 自动调用
</code></pre><h4 id="redux的核心API"><a href="#redux的核心API" class="headerlink" title="redux的核心API"></a>redux的核心API</h4><h5 id="createstore"><a href="#createstore" class="headerlink" title="createstore()"></a>createstore()</h5><p>作用：创建包含指定reducer的store对象</p><h5 id="store对象"><a href="#store对象" class="headerlink" title="store对象"></a>store对象</h5><p>1.作用: redux库最核心的管理对象<br>2.它内部维护着:</p><pre class="language-​jsx"><code class="language-​jsx">    1)state
​	 2)reducer
</code></pre><p>3.核心方法:</p><pre class="language-jsx"><code class="language-jsx">​	<span class="token number">1</span><span class="token punctuation">)</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
​	<span class="token number">2</span><span class="token punctuation">)</span><span class="token function">dispatch</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span>
​	<span class="token number">3</span><span class="token punctuation">)</span><span class="token function">subscribe</span><span class="token punctuation">(</span>listener<span class="token punctuation">)</span>
</code></pre><p>4.具体编码:</p><pre class="language-jsx"><code class="language-jsx">​	<span class="token number">1</span><span class="token punctuation">)</span>store<span class="token punctuation">.</span><span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
​	<span class="token number">2</span><span class="token punctuation">)</span>store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">;</span>type<span class="token punctuation">:</span><span class="token string">'INCREMENT'</span><span class="token punctuation">,</span> number<span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
​	<span class="token number">3</span><span class="token punctuation">)</span>store<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span>render<span class="token punctuation">)</span>
</code></pre><h5 id="applyMiddleware"><a href="#applyMiddleware" class="headerlink" title="applyMiddleware()"></a>applyMiddleware()</h5><p>作用：应用上基于redux的中间件(插件库)</p><h5 id="combineReducers"><a href="#combineReducers" class="headerlink" title="combineReducers()"></a>combineReducers()</h5><p>作用：合并多个reducer函数</p><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h4 id="1-setState"><a href="#1-setState" class="headerlink" title="1. setState"></a>1. setState</h4><h5 id="setState更新状态的2种写法"><a href="#setState更新状态的2种写法" class="headerlink" title="setState更新状态的2种写法"></a>setState更新状态的2种写法</h5><pre class="language-jsx"><code class="language-jsx">    <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">setState</span><span class="token punctuation">(</span>stateChange<span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>对象式的setState
            <span class="token number">1</span><span class="token punctuation">.</span><span class="token function">stateChange为状态改变对象</span><span class="token punctuation">(</span>该对象可以体现出状态的更改<span class="token punctuation">)</span>
            <span class="token number">2</span><span class="token punctuation">.</span>callback是可选的回调函数<span class="token punctuation">,</span> <span class="token function">它在状态更新完毕、界面也更新后</span><span class="token punctuation">(</span>render调用后<span class="token punctuation">)</span>才被调用
                    
    <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">setState</span><span class="token punctuation">(</span>updater<span class="token punctuation">,</span> <span class="token punctuation">[</span>callback<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>函数式的setState
            <span class="token number">1</span><span class="token punctuation">.</span>updater为返回stateChange对象的函数。
            <span class="token number">2</span><span class="token punctuation">.</span>updater可以接收到state和props。
            <span class="token number">4</span><span class="token punctuation">.</span>callback是可选的回调函数<span class="token punctuation">,</span> <span class="token function">它在状态更新、界面也更新后</span><span class="token punctuation">(</span>render调用后<span class="token punctuation">)</span>才被调用。
    总结<span class="token punctuation">:</span>
        <span class="token number">1</span><span class="token punctuation">.</span><span class="token function">对象式的setState是函数式的setState的简写方式</span><span class="token punctuation">(</span>语法糖<span class="token punctuation">)</span>
        <span class="token number">2</span><span class="token punctuation">.</span>使用原则：
                <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>如果新状态不依赖于原状态 <span class="token operator">===</span><span class="token operator">></span> 使用对象方式
                <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>如果新状态依赖于原状态 <span class="token operator">===</span><span class="token operator">></span> 使用函数方式
                <span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">如果需要在setState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>执行后获取最新的状态数据<span class="token punctuation">,</span> 
                    要在第二个callback函数中读取
</code></pre><hr><h4 id="2-lazyLoad"><a href="#2-lazyLoad" class="headerlink" title="2. lazyLoad"></a>2. lazyLoad</h4><h5 id="路由组件的lazyLoad"><a href="#路由组件的lazyLoad" class="headerlink" title="路由组件的lazyLoad"></a>路由组件的lazyLoad</h5><pre class="language-jsx"><code class="language-jsx">    <span class="token comment" spellcheck="true">//1.通过React的lazy函数配合import()函数动态加载路由组件 ===> 路由组件代码会被分开打包</span>
    <span class="token keyword">const</span> Login <span class="token operator">=</span> <span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">></span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'@/pages/Login'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    
    <span class="token comment" spellcheck="true">//2.通过&lt;Suspense>指定在加载得到路由打包文件前显示一个自定义loading界面</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Suspense</span> <span class="token attr-name">fallback={;&lt;h1</span><span class="token punctuation">></span></span>loading<span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Switch</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Route</span> <span class="token attr-name">path</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/xxx<span class="token punctuation">"</span></span> <span class="token attr-name">component</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>Xxxx<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">/></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Redirect</span> <span class="token attr-name">to</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>/login<span class="token punctuation">"</span>/</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Switch</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Suspense</span><span class="token punctuation">></span></span>
</code></pre><hr><h4 id="3-Hooks"><a href="#3-Hooks" class="headerlink" title="3. Hooks"></a>3. Hooks</h4><h5 id="1-React-Hook-x2F-Hooks是什么"><a href="#1-React-Hook-x2F-Hooks是什么" class="headerlink" title="1. React Hook&#x2F;Hooks是什么?"></a>1. React Hook&#x2F;Hooks是什么?</h5><pre class="language-jsx"><code class="language-jsx"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> Hook是React <span class="token number">16.8</span><span class="token punctuation">.</span><span class="token number">0</span>版本增加的新特性<span class="token operator">/</span>新语法
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 可以让你在函数组件中使用 state 以及其他的 React 特性
</code></pre><h5 id="2-三个常用的Hook"><a href="#2-三个常用的Hook" class="headerlink" title="2. 三个常用的Hook"></a>2. 三个常用的Hook</h5><pre class="language-jsx"><code class="language-jsx"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> State Hook<span class="token punctuation">:</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> Effect Hook<span class="token punctuation">:</span> React<span class="token punctuation">.</span><span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span> Ref Hook<span class="token punctuation">:</span> React<span class="token punctuation">.</span><span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><h5 id="3-State-Hook"><a href="#3-State-Hook" class="headerlink" title="3. State Hook"></a>3. State Hook</h5><pre class="language-jsx"><code class="language-jsx"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> State Hook让函数组件也可以有state状态<span class="token punctuation">,</span> 并进行状态数据的读写操作
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 语法<span class="token punctuation">:</span> <span class="token keyword">const</span> <span class="token punctuation">[</span>xxx<span class="token punctuation">,</span> setXxx<span class="token punctuation">]</span> <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">useState</span><span class="token punctuation">(</span>initValue<span class="token punctuation">)</span>  
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>说明<span class="token punctuation">:</span>
        参数<span class="token punctuation">:</span> 第一次初始化指定的值在内部作缓存
        返回值<span class="token punctuation">:</span> 包含<span class="token number">2</span>个元素的数组<span class="token punctuation">,</span> 第<span class="token number">1</span>个为内部当前状态值<span class="token punctuation">,</span> 第<span class="token number">2</span>个为更新状态值的函数
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span> <span class="token function">setXxx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token number">2</span>种写法<span class="token punctuation">:</span>
        <span class="token function">setXxx</span><span class="token punctuation">(</span>newValue<span class="token punctuation">)</span><span class="token punctuation">:</span> 参数为非函数值<span class="token punctuation">,</span> 直接指定新的状态值<span class="token punctuation">,</span> 内部用其覆盖原来的状态值
        <span class="token function">setXxx</span><span class="token punctuation">(</span>value <span class="token operator">=</span><span class="token operator">></span> newValue<span class="token punctuation">)</span><span class="token punctuation">:</span> 参数为函数<span class="token punctuation">,</span> 接收原本的状态值<span class="token punctuation">,</span> 返回新的状态值<span class="token punctuation">,</span> 内部用其覆盖原来的状态值
</code></pre><h5 id="4-Effect-Hook"><a href="#4-Effect-Hook" class="headerlink" title="4. Effect Hook"></a>4. Effect Hook</h5><pre class="language-jsx"><code class="language-jsx"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> Effect Hook <span class="token function">可以让你在函数组件中执行副作用操作</span><span class="token punctuation">(</span>用于模拟类组件中的生命周期钩子<span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> React中的副作用操作<span class="token punctuation">:</span>
        发ajax请求数据获取
        设置订阅 <span class="token operator">/</span> 启动定时器
        手动更改真实DOM
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 语法和说明<span class="token punctuation">:</span> 
        <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">;</span> 
          <span class="token comment" spellcheck="true">// 在此可以执行任何带副作用操作</span>
          <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span><span class="token punctuation">;</span> <span class="token comment" spellcheck="true">// 在组件卸载前执行</span>
            <span class="token comment" spellcheck="true">// 在此做一些收尾工作, 比如清除定时器/取消订阅等</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>stateValue<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true">// 如果指定的是[], 回调函数只会在第一次render()后执行</span>
    
<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 可以把 useEffect Hook 看做如下三个函数的组合
        <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
</code></pre><h5 id="5-Ref-Hook"><a href="#5-Ref-Hook" class="headerlink" title="5. Ref Hook"></a>5. Ref Hook</h5><pre class="language-jsx"><code class="language-jsx"><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span> Ref Hook可以在函数组件中存储<span class="token operator">/</span>查找组件内的标签或任意其它数据
<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 语法<span class="token punctuation">:</span> <span class="token keyword">const</span> refContainer <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">.</span> 作用<span class="token punctuation">:</span>保存标签对象<span class="token punctuation">,</span>功能与React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>一样
</code></pre><hr><h4 id="4-Fragment"><a href="#4-Fragment" class="headerlink" title="4. Fragment"></a>4. Fragment</h4><h5 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h5><pre class="language-jsx"><code class="language-jsx">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Fragment</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Fragment</span><span class="token punctuation">></span></span>
    <span class="token operator">&lt;</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">></span>
</code></pre><h5 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h5><blockquote><p>可以不用必须有一个真实的DOM根标签了</p></blockquote><hr><h4 id="5-Context"><a href="#5-Context" class="headerlink" title="5. Context"></a>5. Context</h4><h5 id="理解"><a href="#理解" class="headerlink" title="理解"></a>理解</h5><blockquote><p>一种组件间通信方式, 常用于【祖组件】与【后代组件】间通信</p></blockquote><h5 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h5><pre class="language-jsx"><code class="language-jsx"><span class="token number">1</span><span class="token punctuation">)</span> 创建Context容器对象：
    <span class="token keyword">const</span> XxxContext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
    
<span class="token number">2</span><span class="token punctuation">)</span> 渲染子组时，外面包裹xxxContext<span class="token punctuation">.</span>Provider<span class="token punctuation">,</span> 通过value属性给后代组件传递数据：
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xxxContext.Provider</span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>数据<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">></span></span>
        子组件
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xxxContext.Provider</span><span class="token punctuation">></span></span>
    
<span class="token number">3</span><span class="token punctuation">)</span> 后代组件读取数据：

    <span class="token comment" spellcheck="true">//第一种方式:仅适用于类组件 </span>
      <span class="token keyword">static</span> contextType <span class="token operator">=</span> xxxContext  <span class="token comment" spellcheck="true">// 声明接收context</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token comment" spellcheck="true">// 读取context中的value数据</span>
      
    <span class="token comment" spellcheck="true">//第二种方式: 函数组件与类组件都可以</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>xxxContext.Consumer</span><span class="token punctuation">></span></span>
        <span class="token punctuation">{</span><span class="token punctuation">;</span>
          value <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">(</span> <span class="token comment" spellcheck="true">// value就是context中的value数据</span>
            要显示的内容
          <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>xxxContext.Consumer</span><span class="token punctuation">></span></span>
</code></pre><h5 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h5><pre class="language-jsx"><code class="language-jsx">    在应用开发中一般不用context<span class="token punctuation">,</span> 一般都它的封装react插件
</code></pre><hr><h4 id="6-组件优化"><a href="#6-组件优化" class="headerlink" title="6. 组件优化"></a>6. 组件优化</h4><h5 id="Component的2个问题"><a href="#Component的2个问题" class="headerlink" title="Component的2个问题"></a>Component的2个问题</h5><blockquote><ol><li><p>只要执行setState(),即使不改变状态数据, 组件也会重新render()</p></li><li><p>只当前组件重新render(), 就会自动重新render子组件 &#x3D;&#x3D;&gt; 效率低</p></li></ol></blockquote><h5 id="效率高的做法"><a href="#效率高的做法" class="headerlink" title="效率高的做法"></a>效率高的做法</h5><blockquote><p>只有当组件的state或props数据发生改变时才重新render()</p></blockquote><h5 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h5><blockquote><p>Component中的shouldComponentUpdate()总是返回true</p></blockquote><h5 id="解决"><a href="#解决" class="headerlink" title="解决"></a>解决</h5><pre class="language-jsx"><code class="language-jsx">    办法<span class="token number">1</span><span class="token punctuation">:</span> 
        <span class="token function">重写shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法
        比较新旧state或props数据<span class="token punctuation">,</span> 如果有变化才返回<span class="token boolean">true</span><span class="token punctuation">,</span> 如果没有返回<span class="token boolean">false</span>
    办法<span class="token number">2</span><span class="token punctuation">:</span>  
        使用PureComponent
        <span class="token function">PureComponent重写了shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 只有state或props数据有变化才返回<span class="token boolean">true</span>
        注意<span class="token punctuation">:</span> 
            只是进行state和props数据的浅比较<span class="token punctuation">,</span> 如果只是数据对象内部数据变了<span class="token punctuation">,</span> 返回<span class="token boolean">false</span>  
            不要直接修改state数据<span class="token punctuation">,</span> 而是要产生新数据
    项目中一般使用PureComponent来优化
</code></pre><hr><h4 id="7-render-props"><a href="#7-render-props" class="headerlink" title="7. render props"></a>7. render props</h4><h5 id="如何向组件内部动态传入带内容的结构-标签"><a href="#如何向组件内部动态传入带内容的结构-标签" class="headerlink" title="如何向组件内部动态传入带内容的结构(标签)?"></a>如何向组件内部动态传入带内容的结构(标签)?</h5><pre class="language-jsx"><code class="language-jsx">    Vue中<span class="token punctuation">:</span> 
        使用slot技术<span class="token punctuation">,</span> 也就是通过组件标签体传入结构  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>AA</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BB</span><span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>AA</span><span class="token punctuation">></span></span>
    React中<span class="token punctuation">:</span>
        使用children props<span class="token punctuation">:</span> 通过组件标签体传入结构
        使用render props<span class="token punctuation">:</span> 通过组件标签属性传入结构<span class="token punctuation">,</span> 一般用render函数属性
</code></pre><h5 id="children-props"><a href="#children-props" class="headerlink" title="children props"></a>children props</h5><pre class="language-jsx"><code class="language-jsx">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>A</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>B</span><span class="token punctuation">></span></span>xxxx<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>B</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>A</span><span class="token punctuation">></span></span>
    <span class="token punctuation">{</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span><span class="token punctuation">;</span>
    问题<span class="token punctuation">:</span> 如果B组件需要A组件内的数据<span class="token punctuation">,</span> <span class="token operator">==</span><span class="token operator">></span> 做不到 
</code></pre><h5 id="render-props"><a href="#render-props" class="headerlink" title="render props"></a>render props</h5><pre class="language-jsx"><code class="language-jsx">    <span class="token operator">&lt;</span>A render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>C</span> <span class="token attr-name">data</span><span class="token script language-javascript"><span class="token punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">;</span>data<span class="token punctuation">}</span></span><span class="token attr-name">;</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>C</span><span class="token punctuation">></span></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token operator">></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>A</span><span class="token punctuation">></span></span>
    A组件<span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>内部state数据<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
    C组件<span class="token punctuation">:</span> 读取A组件传入的数据显示 <span class="token punctuation">{</span><span class="token punctuation">;</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>data<span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre><hr><h4 id="8-错误边界"><a href="#8-错误边界" class="headerlink" title="8. 错误边界"></a>8. 错误边界</h4><h5 id="理解："><a href="#理解：" class="headerlink" title="理解："></a>理解：</h5><p>错误边界：用来捕获后代组件错误，渲染出备用页面</p><h5 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h5><p>只能捕获后代组件生命周期产生的错误，不能捕获自己组件产生的错误和其他组件在合成事件、定时器中产生的错误</p><h5 id="使用方式："><a href="#使用方式：" class="headerlink" title="使用方式："></a>使用方式：</h5><p>getDerivedStateFromError配合componentDidCatch</p><pre class="language-jsx"><code class="language-jsx"><span class="token comment" spellcheck="true">// 生命周期函数，一旦后台组件报错，就会触发</span>
<span class="token keyword">static</span> <span class="token function">getDerivedStateFromError</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 在render之前触发</span>
    <span class="token comment" spellcheck="true">// 返回新的state</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token punctuation">;</span>
        hasError<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">componentDidCatch</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> info<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">;</span>
    <span class="token comment" spellcheck="true">// 统计页面的错误。发送请求发送到后台去</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">,</span> info<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><h4 id="9-组件通信方式总结"><a href="#9-组件通信方式总结" class="headerlink" title="9. 组件通信方式总结"></a>9. 组件通信方式总结</h4><h5 id="方式："><a href="#方式：" class="headerlink" title="方式："></a>方式：</h5><pre class="language-jsx"><code class="language-jsx">        props：
            <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>children props
            <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>render props
        消息订阅<span class="token operator">-</span>发布：
            pubs<span class="token operator">-</span>sub、event等等
        集中式管理：
            redux、dva等等
        conText<span class="token punctuation">:</span>
            生产者<span class="token operator">-</span>消费者模式
</code></pre><h5 id="组件间的关系"><a href="#组件间的关系" class="headerlink" title="组件间的关系"></a>组件间的关系</h5><pre class="language-jsx"><code class="language-jsx">        父子组件：props
        <span class="token function">兄弟组件</span><span class="token punctuation">(</span>非嵌套组件<span class="token punctuation">)</span>：消息订阅<span class="token operator">-</span>发布、集中式管理
        <span class="token function">祖孙组件</span><span class="token punctuation">(</span>跨级组件<span class="token punctuation">)</span>：消息订阅<span class="token operator">-</span><span class="token function">发布、集中式管理、conText</span><span class="token punctuation">(</span>用的少<span class="token punctuation">)</span>
</code></pre></div><hr><div class="reprint" id="reprint-statement"><div class="reprint__author"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-user">文章作者: </i></span><span class="reprint-info"><a href="/about" rel="external nofollow noreferrer">YyShino</a></span></div><div class="reprint__type"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-link">文章链接: </i></span><span class="reprint-info"><a href="https://0shino0.github.io/2022/05/16/react3/">https://0shino0.github.io/2022/05/16/react3/</a></span></div><div class="reprint__notice"><span class="reprint-meta" style="font-weight:700"><i class="fas fa-copyright">版权声明: </i></span><span class="reprint-info">本博客所有文章除特別声明外，均采用 <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a> 许可协议。转载请注明来源 <a href="/about" target="_blank">YyShino</a> !</span></div></div><script async defer>function navToReprintStatement(){$("html, body").animate({scrollTop:$("#reprint-statement").offset().top-80},800)}document.addEventListener("copy",function(t){M.toast({html:'<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>'})})</script><div class="tag_share" style="display:block"><div class="post-meta__tag-list" style="display:inline-block"><div class="article-tag"><a href="/tags/jsx/"><span class="chip bg-color">jsx</span></a></div></div><div class="post_share" style="zoom:80%;width:fit-content;display:inline-block;float:right;margin:-.15rem 0"><link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css"><div id="article-share"><div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div><script src="/libs/share/js/social-share.min.js"></script></div></div></div><style>#reward{margin:40px 0;text-align:center}#reward .reward-link{font-size:1.4rem;line-height:38px}#reward .btn-floating:hover{box-shadow:0 6px 12px rgba(0,0,0,.2),0 5px 15px rgba(0,0,0,.2)}#rewardModal{width:320px;height:350px}#rewardModal .reward-title{margin:15px auto;padding-bottom:5px}#rewardModal .modal-content{padding:10px}#rewardModal .close{position:absolute;right:15px;top:15px;color:rgba(0,0,0,.5);font-size:1.3rem;line-height:20px;cursor:pointer}#rewardModal .close:hover{color:#ef5350;transform:scale(1.3);-moz-transform:scale(1.3);-webkit-transform:scale(1.3);-o-transform:scale(1.3)}#rewardModal .reward-tabs{margin:0 auto;width:210px}.reward-tabs .tabs{height:38px;margin:10px auto;padding-left:0}.reward-content ul{padding-left:0!important}.reward-tabs .tabs .tab{height:38px;line-height:38px}.reward-tabs .tab a{color:#fff;background-color:#ccc}.reward-tabs .tab a:hover{background-color:#ccc;color:#fff}.reward-tabs .wechat-tab .active{color:#fff!important;background-color:#22ab38!important}.reward-tabs .alipay-tab .active{color:#fff!important;background-color:#019fe8!important}.reward-tabs .reward-img{width:210px;height:210px}</style><div id="reward"><a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a><div id="rewardModal" class="modal"><div class="modal-content"><a class="close modal-close"><i class="fas fa-times"></i></a><h4 class="reward-title">你的赏识是我前进的动力</h4><div class="reward-content"><div class="reward-tabs"><ul class="tabs row"><li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li><li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li></ul><div id="alipay"><img src="/medias/loading.gif" data-original="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码"></div><div id="wechat"><img src="/medias/loading.gif" data-original="/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码"></div></div></div></div></div></div><script>$(function(){$(".tabs").tabs()})</script></div></div><article id="prenext-posts" class="prev-next articles"><div class="row article-row"><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge left-badge text-color"><i class="fas fa-chevron-left"></i>&nbsp;上一篇</div><div class="card"><a href="/2022/05/17/vue01/"><div class="card-image"><img src="/medias/loading.gif" data-original="/medias/featureimages/12.jpg" class="responsive-img" alt="Vue"> <span class="card-title">Vue</span></div></a><div class="card-content article-content"><div class="summary block-with-text">vue</div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2022-05-17 </span><span class="publish-author"><i class="fas fa-user fa-fw"></i> YyShino</span></div></div><div class="card-action article-tags"><a href="/tags/vue/"><span class="chip bg-color">vue</span></a></div></div></div><div class="article col s12 m6" data-aos="fade-up"><div class="article-badge right-badge text-color">下一篇&nbsp;<i class="fas fa-chevron-right"></i></div><div class="card"><a href="/2022/05/16/diffing/"><div class="card-image"><img src="/medias/loading.gif" data-original="/medias/featureimages/7.jpg" class="responsive-img" alt="Diffing算法原理"> <span class="card-title">Diffing算法原理</span></div></a><div class="card-content article-content"><div class="summary block-with-text"></div><div class="publish-info"><span class="publish-date"><i class="far fa-clock fa-fw icon-date"></i>2022-05-16 </span><span class="publish-author"><i class="fas fa-user fa-fw"></i> YyShino</span></div></div><div class="card-action article-tags"><a href="/tags/jsx/"><span class="chip bg-color">jsx</span></a></div></div></div></div></article></div><script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script><script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script><script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script><script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script></div><div id="toc-aside" class="expanded col l3 hide-on-med-and-down"><div class="toc-widget card" style="background-color:#fff"><div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div><div id="toc-content"></div></div></div></div><div id="floating-toc-btn" class="hide-on-med-and-down"><a class="btn-floating btn-large bg-color"><i class="fas fa-list-ul"></i></a></div><script src="/libs/tocbot/tocbot.min.js"></script><script>$(function(){tocbot.init({tocSelector:"#toc-content",contentSelector:"#articleContent",headingsOffset:-(.4*$(window).height()-45),collapseDepth:Number("0"),headingSelector:"h2, h3, h4"});let t=parseInt(.4*$(window).height()-64),e=$(".toc-widget");$(window).scroll(function(){$(window).scrollTop()>t?e.addClass("toc-fixed"):e.removeClass("toc-fixed")});const n="expanded";let l=$("#toc-aside"),i=$("#main-content");$("#floating-toc-btn .btn-floating").click(function(){l.hasClass(n)?(l.removeClass(n).hide(),i.removeClass("l9")):(l.addClass(n).show(),i.addClass("l9"));{var t,o="prenext-posts";let e=$("#"+"artDetail");if(0!==e.length){let t=e.width();450<=t?t+=21:350<=t&&t<450?t+=18:300<=t&&t<350?t+=16:t+=14,$("#"+o).width(t)}return}})})</script></main><footer class="page-footer bg-color"><link rel="stylesheet" href="/libs/aplayer/APlayer.min.css"><style>.aplayer .aplayer-lrc p{display:none;font-size:12px;font-weight:700;line-height:16px!important}.aplayer .aplayer-lrc p.aplayer-lrc-current{display:none;font-size:15px;color:#42b983}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body{left:-66px!important}.aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover{left:0!important}</style><div><div class="row"><meting-js class="col l8 offset-l2 m10 offset-m1 s12" server="netease" type="playlist" id="5025570031" fixed="true" autoplay theme="#42b983" loop order="random" preload="auto" volume="0.5" list-folded="true"></meting-js></div></div><script src="/libs/aplayer/APlayer.min.js"></script><script src="/libs/aplayer/Meting.min.js"></script><div class="container row center-align" style="margin-bottom:15px!important"><div class="col s12 m8 l8 copy-right">Copyright&nbsp;&copy; <span id="year">2022</span> <a href="/about" target="_blank">YyShino</a> |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a> |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a><br>&nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span class="white-color">14.4k</span> <span id="busuanzi_container_site_pv">&nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp; <span id="busuanzi_value_site_pv" class="white-color"></span> </span><span id="busuanzi_container_site_uv">&nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp; <span id="busuanzi_value_site_uv" class="white-color"></span></span><br><span id="sitetime">Loading ...</span><script>var calcSiteTime=function(){var e=new Date,t="2022",n=e.getFullYear(),i=e.getMonth()+1,a=e.getDate(),r=e.getHours(),o=e.getMinutes(),e=e.getSeconds(),s=Date.UTC(t,"5","12","0","0","0"),i=Date.UTC(n,i,a,r,o,e)-s,a=Math.floor(i/31536e6),r=Math.floor(i/864e5-365*a);t===String(n)?(document.getElementById("year").innerHTML=n,o="This site has been running for "+r+" days",o="本站已运行 "+r+" 天",document.getElementById("sitetime").innerHTML=o):(document.getElementById("year").innerHTML=t+" - "+n,e="This site has been running for "+a+" years and "+r+" days",e="本站已运行 "+a+" 年 "+r+" 天",document.getElementById("sitetime").innerHTML=e)};calcSiteTime()</script><br></div><div class="col s12 m4 l4 social-link social-statis"><a href="https://github.com/0Shino0" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50"><i class="fab fa-github"></i> </a><a href="mailto:1471386835@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50"><i class="fas fa-envelope-open"></i> </a><a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1471386835" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1471386835" data-position="top" data-delay="50"><i class="fab fa-qq"></i> </a><a href="https://space.bilibili.com/34716040?spm_id_from=333.1007.0.0" class="tooltipped" target="_blank" data-tooltip="访问我的Bilibili" data-position="top" data-delay="50"><i class="fa-brands fa-bilibili"></i></a></div></div></footer><div class="progress-bar"></div><div id="searchModal" class="modal"><div class="modal-content"><div class="search-header"><span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span> <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字" class="search-input"></div><div id="searchResult"></div></div></div><script type="text/javascript">$(function(){!function(t,r,s){"use strict";$.ajax({url:t,dataType:"xml",success:function(t){var e=$("entry",t).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),t=document.getElementById(r),n=document.getElementById(s);t.addEventListener("input",function(){var o='<ul class="search-result-list">',h=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length<=0||(e.forEach(function(t){var n,e,r,s=!0,i=t.title.trim().toLowerCase(),l=t.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),a=0===(a=t.url).indexOf("/")?t.url:"/"+a,c=-1,u=-1;""!==i&&""!==l&&h.forEach(function(t,e){n=i.indexOf(t),c=l.indexOf(t),n<0&&c<0?s=!1:(c<0&&(c=0),0===e&&(u=c))}),s&&(o+="<li><a href='"+a+"' class='search-result-title'>"+i+"</a>",a=t.content.trim().replace(/<[^>]+>/g,""),0<=u&&(t=u+80,(t=0===(e=(e=u-20)<0?0:e)?100:t)>a.length&&(t=a.length),r=a.substr(e,t),h.forEach(function(t){var e=new RegExp(t,"gi");r=r.replace(e,'<em class="search-keyword">'+t+"</em>")}),o+='<p class="search-result">'+r+"...</p>"),o+="</li>")}),o+="</ul>",n.innerHTML=o)})}})}("/search.xml","searchInput","searchResult")})</script><div id="backTop" class="top-scroll"><a class="btn-floating btn-large waves-effect waves-light" href="#!"><i class="fas fa-arrow-up"></i></a></div><script src="/libs/materialize/materialize.min.js"></script><script src="/libs/masonry/masonry.pkgd.min.js"></script><script src="/libs/aos/aos.js"></script><script src="/libs/scrollprogress/scrollProgress.min.js"></script><script src="/libs/lightGallery/js/lightgallery-all.min.js"></script><script src="/js/matery.js"></script><script type="text/javascript">var windowWidth=$(window).width();768<windowWidth&&document.write('<script type="text/javascript" src="/libs/others/sakura-small.js"><\/script>')</script><script src="https://ssl.captcha.qq.com/TCaptcha.js"></script><script src="/libs/others/TencentCaptcha.js"></script><button id="TencentCaptcha" data-appid="xxxxxxxxxx" data-cbfn="callback" type="button" hidden></button><script>!function(){var t=document.createElement("script"),e=window.location.protocol.split(":")[0],e=(t.src="https"===e?"https://zz.bdstatic.com/linksubmit/push.js":"http://push.zhanzhang.baidu.com/push.js",document.getElementsByTagName("script")[0]);e.parentNode.insertBefore(t,e)}()</script><script src="/libs/others/clicklove.js" async></script><script async src="/libs/others/busuanzi.pure.mini.js"></script><script src="/libs/instantpage/instantpage.js" type="module"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{jsonPath:"/live2dw/assets/z16.model.json"},display:null,position:"right",width:150,height:300,mobile:{show:!0},react:{opacity:.7},log:!1})</script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})})</script><script>!function(n){n.imageLazyLoadSetting.processImages=i;var e=n.imageLazyLoadSetting.isSPA,r=(n.imageLazyLoadSetting.preloadRatio,Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));function i(){e&&(r=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var t,a=0;a<r.length;a++)0<=(t=(t=r[a]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(n.innerHeight+240||document.documentElement.clientHeight+240)&&function(){var e=r[a],t=e,n=function(){r=r.filter(function(t){return e!==t})},i=new Image,o=t.getAttribute("data-original");i.onload=function(){t.src=o,n()},t.src!==o&&(i.src=o)}()}i(),n.addEventListener("scroll",function(){var t=i,e=n;clearTimeout(t.tId),t.tId=setTimeout(function(){t.call(e)},500)})}(this)</script></body></html>